<div data-hook="admin_user_wholesaler_form" class="panel panel-default mb-3">
  <div class="panel-heading">
    <div class="row ml-1 pb-0">
      <div class="col-xs-6">
        <h1 class="panel-title mb-0 h5">
          Wholesaler Account Details
        </h1>
      </div>
      <div class="col-xs-6">
        <% if !@wholesaler.new_record? %>
          <%= form_for [:admin, @wholesaler], :html => { :class => "wholesaler-form pull-right float-right" } do |f| %>
            <%= button_to "Delete Account", spree.admin_wholesaler_path(@wholesaler),
              :method => :delete,
              class: "btn btn-danger ",
              data: { confirm: Spree.t(:are_you_sure), action: 'remove' }%>
          <% end %>
        <% end %>
      </div>

    </div>
  </div>
  <% if @wholesaler.new_record? %>
    <div class="panel-body">
      <button type="button" id="create_wholesaler_button" class="wholesaler_toggle_button btn btn-success">Create Wholesale Account</button>
      <div class="d-none hidden" id="create_wholesaler_form">
        <%= form_for [:admin, @wholesaler], :html => { :class => "wholesaler-form" } do |f| %>
          <%= render partial: 'spree/admin/users/wholesalers/fields', locals: { f: f } %>

          <div data-hook="admin_user_edit_form_button">
            <div class="form-actions" data-hook="buttons">
              <%= button Spree.t('actions.new'), 'ok', 'submit', {class: 'btn-success', data: { disable_with: "#{ Spree.t(:saving) }..." }} %>
              <button type="button" icon="cancel" class="wholesaler_toggle_button btn btn-danger">
                <span class="icon icon-delete"></span>
                Cancel
              </button>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class="panel-body" id="edit_wholesaler_form">
      <%= form_for [:admin, @wholesaler], :html => { :class => "wholesaler-form" } do |f| %>
        
        <%= render partial: 'spree/admin/users/wholesalers/fields', locals: { f: f } %>

        <div data-hook="admin_user_edit_form_button">
          <%= render partial: 'spree/admin/shared/edit_resource_links', locals: { collection_url: spree.admin_users_url } %>
        </div>

      <% end %>
    </div>
  <% end %>
</div>
